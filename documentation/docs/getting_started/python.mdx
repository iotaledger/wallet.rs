---
title: Getting Started With Python
description: Getting started with the official IOTA Wallet Python library.
image: /img/logo/iota_mark_light.png
keywords:
- Python
- install
- pip
- unpack
---
import WarningPasswordStorage from '../_admonitions/_warning_safe_password_storage.md'

<WarningPasswordStorage/>

## Requirements

* [Python 3.x](https://www.python.org)
* [pip](https://pypi.org/project/pip) >= 19.1
* [setuptools-rust](https://pypi.org/project/setuptools-rust/) >= 0.10.2
* Make sure you have fulfilled the [Rust Getting Started](rust.mdx) requirements to compile the binding.

## Install the Library

### Clone the Repository

You can clone the [wallet.rs client library](https://github.com/iotaledger/wallet.rs) by running the following command:

```bash
git clone https://github.com/iotaledger/wallet.rs
```

### Change to the Python Binding Directory

After you have cloned the repository, you should change directory to `wallet.rs/bindings/python`. You can do so
by
running the following command:

```bash
cd wallet.rs/bindings/python
```

#### (optional) Create and use a virtual environment

If you want to isolate the library from the rest of your system, you can create a virtual environment by running the
following commands:

```bash
python3 -m venv iota_wallet_venv
````
##### Linux and macOS

```bash
source iota_wallet_venv/bin/activate
```

##### Windows

```bash
.\iota_wallet_venv\Scripts\activate
```

### Install the Required Dependencies and Build the Wheel

Once you have [cloned the library](#clone-the-library),
and [moved to the binding's directory](#change-to-the-python-binding-directory), you should install dependencies and
build the wheel file.

You can do so by running the following commands:

```bash
pip install -r requirements-dev.txt
pip install .
```

#### (optional) Deactivate the virtual environment

If you want to deactivate the virtual environment, you should run the following command from the virtual environment:

```bash
deactivate
```

## Use the Library

After you have [installed the library](#install-the-library), you can create a `IotaWallet` instance and interact with
it.

```python
from iota_wallet import IotaWallet, StrongholdSecretManager

# This example creates a new database and account

client_options = {
    'nodes': ['https://api.testnet.shimmer.network'],
}

# Shimmer coin type
coin_type = 4219

secret_manager = StrongholdSecretManager("wallet.stronghold", "some_hopefully_secure_password")

wallet = IotaWallet('./alice-database', client_options, coin_type, secret_manager)

# Store the mnemonic in the Stronghold snapshot, this only needs to be done once
account = wallet.store_mnemonic("flame fever pig forward exact dash body idea link scrub tennis minute " +
          "surge unaware prosper over waste kitten ceiling human knife arch situate civil")

account = wallet.create_account('Alice')
print(account)
```

## What's Next?

Now that you are up and running, you can get acquainted with the library using
its [how-to guides](../how_tos/run_how_tos.mdx) and the
repository's [code examples](https://github.com/iotaledger/wallet.rs/tree/develop/bindings/python/examples).


## Use with IOTA Library

:::info

As Python doesn't support using multiple versions of the same library, if you want to use both the Shimmer and IOTA version, you need to build one of them yourself and rename it.

:::

In this section we will show you an Example on how you can install both the IOTA and Shimmer wallet library for usage in the same application.
For that we will build the IOTA wallet library ourselfes and rename it.

### Install Shimmer Version

First install the Shimmer version following the [installation guide](#install-the-library).

### Install IOTA Version

To install the IOTA version you need to follow the [Install from source](https://wiki.iota.org/wallet.rs/getting_started/python#install-from-source) guide.
Before you continue with the steps after having cloned the repo, we need to apply some changes to the repo first. 

:::info

In this guide we will rename the `iota-wallet` to `iota-wallet-production`, but you can use whatever you want.

:::

In `bindings/python/native/Cargo.toml` change both names:

 ```diff
  [package]
- name = "iota-wallet-python"
+ name = "iota-wallet-production"
  version = "0.2.0"
  authors = ["IOTA Stiftung"]
  edition = "2021"
  description = "Python bindings for the IOTA wallet library"
  documentation = "https://wiki.iota.org/wallet.rs/welcome"
  homepage = "https://www.iota.org/"
  repository = "https://github.com/iotaledger/wallet.rs"
  license = "Apache-2.0"
  keywords = ["iota", "wallet", "transaction", "python"]
  categories = ["cryptography::cryptocurrencies"]

  [lib]
- name = "iota_wallet"
+ name = "iota_wallet_production"
  crate-type = ["cdylib"]

  [dependencies]
  chrono = { version = "0.4.19", default-features = false }
  dict_derive = "0.3.0"
  futures = { version = "0.3.17", default-features = false }
  hex = { version = "0.4.3", default-features = false }
  iota-client = { git = "https://github.com/iotaledger/iota.rs", rev = "47e5f6684e2c59237c5fac88be85950a6e5eec4f", default-features = false, features = ["async", "mqtt", "tls"] }
  iota-wallet = { path = "../../../", version = "0.2.0", features = ["stronghold", "ledger-nano", "ledger-nano-simulator"] }
  once_cell = { version = "1.8.0", default-features = false }
  serde = { version = "1.0.130", default-features = false, features = ["derive"] }
  serde_json = { version = "1.0.68", default-features = false }
  tokio = { version = "1.12.0", default-features = false }
  url = { version = "2.2.2", default-features = false }

  [dependencies.pyo3]
  version = "0.13"
  features = ["extension-module", "abi3-py36"]
 ```

In `bindings/python/native/setup.py`:
```diff
setup(
-   name="iota_wallet",
+   name="iota_wallet_production",
    version="0.2.0",
    classifiers=[
        "License :: SPDX-License-Identifier ::  Apache-2.0",
        "Development Status :: 0.1.0 - Alpha",
        "Intended Audience :: Developers",
        "Programming Language :: Python",
        "Programming Language :: Rust",
        "Operating System :: POSIX",
        "Operating System :: MacOS :: MacOS X",
    ],
    packages=["iota_wallet"],
    rust_extensions=[
        RustExtension(
            "iota_wallet.iota_wallet",
            rustc_flags=get_py_version_cfgs(),
            debug=False,
        ),
    ],
    include_package_data=True,
    zip_safe=False,
)
```

And in `bindings/python/native/src/lib.rs`:
```diff
/// IOTA Wallet implemented in Rust and binded by Python.
#[pymodule]
- fn iota_wallet(_py: Python, m: &PyModule) -> PyResult<()> {
+ fn iota_wallet_production(_py: Python, m: &PyModule) -> PyResult<()> {
      m.add_class::<AccountInitialiser>()?;
      m.add_class::<AccountHandle>()?;
      m.add_class::<SyncedAccount>()?;
      m.add_class::<AccountSynchronizer>()?;
      m.add_class::<Transfer>()?;
      m.add_class::<TransferWithOutputs>()?;
      m.add_class::<AccountManager>()?;
      m.add_function(wrap_pyfunction!(on_balance_change, m)?).unwrap();
      m.add_function(wrap_pyfunction!(remove_balance_change_listener, m)?)
          .unwrap();
      m.add_function(wrap_pyfunction!(on_new_transaction, m)?).unwrap();
      m.add_function(wrap_pyfunction!(remove_new_transaction_listener, m)?)
          .unwrap();
      m.add_function(wrap_pyfunction!(on_confirmation_state_change, m)?)
          .unwrap();
      m.add_function(wrap_pyfunction!(remove_confirmation_state_change_listener, m)?)
          .unwrap();
      m.add_function(wrap_pyfunction!(on_reattachment, m)?).unwrap();
      m.add_function(wrap_pyfunction!(remove_reattachment_listener, m)?)
          .unwrap();
      m.add_function(wrap_pyfunction!(on_broadcast, m)?).unwrap();
      m.add_function(wrap_pyfunction!(remove_broadcast_listener, m)?).unwrap();
      m.add_function(wrap_pyfunction!(on_error, m)?).unwrap();
      m.add_function(wrap_pyfunction!(remove_error_listener, m)?).unwrap();
      m.add_function(wrap_pyfunction!(on_stronghold_status_change, m)?)
          .unwrap();
      m.add_function(wrap_pyfunction!(remove_stronghold_status_change_listener, m)?)
          .unwrap();
      m.add_function(wrap_pyfunction!(on_transfer_progress, m)?).unwrap();
      m.add_function(wrap_pyfunction!(remove_transfer_progress_listener, m)?)
          .unwrap();
      m.add_function(wrap_pyfunction!(on_migration_progress, m)?).unwrap();
      m.add_function(wrap_pyfunction!(remove_migration_progress_listener, m)?)
          .unwrap();
      m.add_function(wrap_pyfunction!(init_logger, m)?).unwrap();
      Ok(())
}
```

 Now you can continue the installation from [here](https://wiki.iota.org/wallet.rs/getting_started/python#change-to-the-python-binding-directory).

 ### Usage

 With both libraries installed you can now use them for example like this:

 ```python
 import json
from dotenv import load_dotenv

from iota_wallet import IotaWallet as ShimmerWallet, StrongholdSecretManager
import iota_wallet_production as iota_wallet

# Load the env variables
load_dotenv()

# Get the stronghold password
STRONGHOLD_PASSWORD = os.getenv('STRONGHOLD_PASSWORD')

shimmer_client_options = {
    'nodes': ['https://api.testnet.shimmer.network'],
}

# Shimmer coin type
coin_type = 4219

shimmer_secret_manager = StrongholdSecretManager("shimmer-wallet.stronghold", STRONGHOLD_PASSWORD)

shimmer_wallet = ShimmerWallet('./shimmer-database', shimmer_client_options, coin_type, shimmer_secret_manager)

# Store the mnemonic in the Stronghold snapshot, this only needs to be done once
shimmer_account = shimmer_wallet.store_mnemonic("flame fever pig forward exact dash body idea link scrub tennis minute " +
          "surge unaware prosper over waste kitten ceiling human knife arch situate civil")

shimmer_account = shimmer_wallet.create_account('Shimmer')
print(f'{shimmer_account["alias"]} account created.')

iota_account_manager = iota_wallet.AccountManager(
    storage_path='./iota-database'
)  # note: `storage` and `storage_path` have to be declared together

iota_account_manager.set_stronghold_password(STRONGHOLD_PASSWORD)

# mnemonic (seed) should be set only for new storage
# once the storage has been initialized earlier then you should omit this step
iota_account_manager.store_mnemonic("Stronghold")

# general Tangle specific options
iota_client_options = {
    "nodes": [
        {
            "url": "https://api.lb-0.h.chrysalis-devnet.iota.cafe/",
            "auth": None,
            "disabled": False
        }
    ],
    "local_pow": True
}

# an account is generated with the given alias via `iota_account_initialiser`
iota_account_initialiser = iota_account_manager.create_account(iota_client_options)
iota_account_initialiser.alias('IOTA')

# initialise account based via `iota_account_initialiser`
# store it to db and sync with Tangle
iota_account = iota_account_initialiser.initialise()
print(f'{iota_account.alias()} account created.')
 ```
